<!DOCTYPE html><html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Luxometro</title>
    <base href="/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.ef46db3751d8e999.css">

    <script src="http://18.209.58.139:3030/socket.io/socket.io.js"></script>
  </head>
  <body class="bg-dark">
    <!-- 
      <div style="width: 1200px; height: 1500px;">
        <app-root></app-root>
      </div>
    
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
      <script src="runtime.12be61663afa7bff.js" type="module"></script><script src="polyfills.668b2324c8aa39ca.js" type="module"></script><script src="main.ff1f31ac84512736.js" type="module"></script>
    -->


        

    <script>

      
      // const cantidadImagenes = listaImagenes.length;
      // let contador = 0;
      // const imagen = document.querySelector('.imagen');

      const socket = io('http://18.209.58.139:3030',{ forceNew: true });
      socket.on("connect",()=>{
          console.log('Cliente conectado al servidor id;',socket.id);
      });

      let contador4 = 0;
      const ventilador1 = 0;

      let ventilador = 1;
      let movimiento = 1
      let cerradura = 1;
      let corriente = 1;
      let temperatura = 1;
      let humedad = 1;
      let altidud = 1;
      let iluminacion = 1;


      socket.on('VENTILADOR:ESTADO',(data)=>{
        ventilador = data.valor;
        console.log(1);
      });

      socket.on('CERRADURA:ESTADO',(data)=>{
        cerradura = data.valor;
        console.log(1);

      });

      socket.on('ILUMINACION:ESTADO',(data)=>{
        iluminacion = data.valor;
        console.log(1);

      });




      const id = setInterval(()=>{

      

        
        socket.emit('VENTILADOR:ESTADO',{valor:ventilador});
        console.log(ventilador);
        socket.emit('MOVIMIENTO:ESTADO',{valor:movimiento});
        socket.emit('CERRADURA:ESTADO', {valor:cerradura});
        socket.emit('CORRIENTE:ESTADO', {valor:corriente});
        socket.emit('TEMPERATURA:ESTADO', {valor:temperatura});
        socket.emit('HUMEDAD:ESTADO',{valor:humedad});
        socket.emit('ALTITUD:ESTADO',{valor:altidud});
        socket.emit('ILUMINACION:ESTADO',{valor:iluminacion});

        contador4++;

        if(contador4 == 2){
          //clearInterval(id);
        }
        //console.log("Hola"+contador4);
      },1000);
      

    </script>





  </body>
</html>